const ROPE_LENGTH = 40;

const Weight = ({
  weight,
  x,
  y,
  color,
}: {
  weight: number;
  x: number;
  y: number;
  color: string;
}) => {
  const scale = 1 + Math.abs(weight) / 100;
  return (
    <g transform={`translate(${x}, ${y})`} className="transition duration-500">
      <line
        fill="rgba(0%,0%,0%,0)"
        stroke="rgba(0%,0%,0%,1)"
        strokeWidth="3"
        strokeLinecap="butt"
        strokeLinejoin="miter"
        strokeDasharray=""
        vectorEffect="non-scaling-stroke"
        x1="0"
        y1="0"
        x2="0"
        y2={ROPE_LENGTH}
      ></line>
      <g
        transform={`translate(0, ${ROPE_LENGTH}), scale(${scale})`}
        className="transition duration-500"
      >
        <polygon
          fill={color}
          stroke="rgba(84.31%,65.1%,7.45%,1)"
          strokeWidth="2"
          strokeLinecap="butt"
          strokeLinejoin="miter"
          strokeDasharray=""
          transform="rotate(180)"
          points="-3.3065463576978533e-15, -56 -4.0053768112136625, -55.54870241927283 -7.809907304116049, -54.217439622243546 -11.222816433457206, -52.072966684424536 -14.07296668442454, -49.2228164334572 -16.217439622243546, -45.809907304116045 -17.548702419272825, -42.00537681121366 -18, -38 -18, -26 -18, -25.999999999999996 -17.714207691800055, -22.805184535568344 -16.865906016469815, -19.711819480675885 -15.482032539991774, -16.8181337174496 -13.606531750710303, -14.216015371831462 -11.298959615247584, -11.988093933621874 -8.632592396596024, -10.205116381744608 -5.692099788303081, -8.92370063509075 -6, -8 -6, 0 6, 0 6, -8 5.692099788303083, -8.923700635090754 8.632592396596023, -10.205116381744608 11.298959615247584, -11.988093933621874 13.606531750710309, -14.21601537183147 15.482032539991776, -16.818133717449605 16.86590601646982, -19.711819480675892 17.71420769180006, -22.805184535568344 18, -26 18, -38 17.548702419272825, -42.00537681121366 16.217439622243546, -45.809907304116045 14.072966684424536, -49.222816433457204 11.222816433457204, -52.072966684424536 7.809907304116047, -54.217439622243546 4.00537681121366, -55.54870241927283 1.102182119232618e-15, -56 "
        ></polygon>
        <text
          y="35"
          dominantBaseline="alphabetic"
          textAnchor="middle"
          fontSize="16"
          fontWeight="500"
          fill="black"
        >
          {weight <= 0 ? "?" : weight}
        </text>
      </g>
    </g>
  );
};

export default Weight;
